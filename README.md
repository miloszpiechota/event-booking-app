# 📱 Event Booking Mobile App – Ticket Validation & Event Review 

## 📚 Table of Contents

* [About the App](#about-the-app)
* [Key Features](#key-features)
* [Modules](#modules)

  * [QR Code Scanning](#qr-code-scanning)
  * [Rating and Review System](#rating-and-review-system)
* [Technology Stack](#technology-stack)
* [Data Flow](#data-flow)
* [Installation & Usage](#installation--usage)

---

## 🧩 About the App
Event Booking Mobile App is a continuation of the [Event Booking Web App](#modules), designed to extend its core functionality to mobile devices. While maintaining access to the event catalog and user tickets, the app introduces two key features: the ability to submit star ratings for attended events and the capability to securely scan and validate QR-coded tickets using the device camera. It integrates seamlessly with Supabase for real-time database updates and ensures smooth event check-in and feedback collection on the go.

---

## 🚀 Key Features

* QR code scanning for ticket check-in using Expo Camera
* Cryptographically secure ticket verification with hash-based validation
* Real-time interaction with Supabase database
* Ticket status update (from 'paid' to 'checked\_in')
* 5-star rating system for events with average rating display
* User-friendly UI with permission prompts and error handling

---

## 📦 Modules

### ✅ QR Code Scanning

* Built with `expo-camera` and `expo-crypto`
* Reads and decodes a secure base64 token from each QR code
* Validates:

  * Ticket existence in the database
  * Ticket status (`paid` only)
  * Hash integrity using SHA-256 + secret key
* On successful scan:

  * Ticket status is updated to `checked_in`
  * Confirmation is shown in-app
* If invalid or reused:

  * Informative alert is displayed to the user

### ⭐ Rating and Review System

* After attending an event, the user can rate it from 1 to 5 stars
* Uses a custom `StarRating` component
* Rating is confirmed with an in-app alert before submission
* Stored securely in the `event_rate` table in Supabase
* Average rating is dynamically calculated and displayed in the event details

---

## 🛠 Technology Stack

* **Framework:** React Native with Expo
* **Backend:** Supabase (PostgreSQL, Auth, Realtime)
* **QR Security:** SHA-256 hashing, base64 encoding
* **Camera & Scanning:** Expo Camera, Buffer, Crypto
* **UI/UX:** React Native Stylesheet, conditional rendering

---

## 🔁 Data Flow

* QR code is generated by the web app, containing event and ticket metadata with checksum
* The mobile app scans the QR, decodes and verifies the payload
* If valid, it updates the ticket record in Supabase
* Rating flow collects user rating and stores it in `event_rate`

---

## 🚀 Installation & Usage

```bash
cd eventhub-mobile
npm install
npx expo start
```

> 📱 Requires camera permission. Make sure to configure `QR_SECRET_KEY` in Expo constants.
